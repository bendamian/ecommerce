{% extends "base.html" %}

{% block content %}
<div class="container py-5">

    <!-- Category Title -->
    <h2 class="mb-4">{{ category.name | title }}</h2>

    <!-- Product Grid -->
    <div class="row g-4">

        {% for product in products %}
            <div class="col-md-3 col-sm-6">

                <!-- Product Card -->
                <div class="card h-100 shadow-sm">

                    <!-- Product Image -->
                    <img src="{{ product.image.url }}" alt="{{ product.name }}" 
                         class="card-img-top" 
                         style="width: 100%; height: 300px; object-fit: contain;">

                    <!-- Product Details -->
                    <div class="card-body d-flex flex-column">

                        <h5 class="card-title">{{ product.name }}</h5>
                        <p class="card-text">
                            <strong>Price:</strong> ${{ product.price }}
                        </p>

                        <!-- View Product Button -->
                        <a href="{{product.get_absolute_url}}" 
                           class="btn btn-primary mt-auto">
                            View Product
                        </a>

                    </div>

                </div>

            </div>
        {% empty %}
            <p>No products found in this category.</p>
        {% endfor %}

    </div>

    <!-- Back to Store Link -->
    <div class="mt-5">
        <a href="{% url 'store_app:store' %}" class="btn btn-outline-secondary">
            Back to Store
        </a>
    </div>

</div>
{% endblock %}
