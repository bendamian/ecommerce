<nav class="navbar navbar-expand-lg navbar-dark bg-primary shadow-sm">
    <div class="container">

        <!-- Brand -->
        <a class="navbar-brand fw-bold" href="{% url 'store_app:store' %}">
            My App
        </a>

        <!-- Toggler -->
        <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#mainNavbar"
            aria-controls="mainNavbar"
            aria-expanded="false"
            aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <!-- Navbar Content -->
        <div class="collapse navbar-collapse" id="mainNavbar">

            <!-- Left menu -->
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">

                <!-- Categories -->
                <li class="nav-item dropdown">
                    <a
                        class="nav-link dropdown-toggle"
                        href="#"
                        id="categoriesDropdown"
                        role="button"
                        data-bs-toggle="dropdown"
                        aria-expanded="false">
                        Categories
                    </a>

                    <ul class="dropdown-menu" aria-labelledby="categoriesDropdown">
                        {% for category in all_categories %}
                            <li>
                                <a class="dropdown-item" href="{{ category.get_absolute_url }}">
                                    {{ category.name|capfirst }}
                                </a>
                            </li>
                        {% empty %}
                            <li>
                                <span class="dropdown-item text-muted">No categories</span>
                            </li>
                        {% endfor %}
                    </ul>
                </li>

            </ul>

            <!-- Right menu -->
            <ul class="navbar-nav ms-auto align-items-lg-center gap-2">

                {% if user.is_authenticated %}
                    <li class="nav-item">
                        <a class="btn btn-outline-light" href="{% url 'account_app:dashboard' %}">
                            Dashboard
                        </a>
                    </li>

                    <li class="nav-item">
                        <a class="btn btn-outline-light" href="{% url 'account_app:my-logout' %}">
                            Logout
                        </a>
                    </li>
                {% else %}
                    <li class="nav-item">
                        <a class="btn btn-outline-light" href="{% url 'account_app:register' %}">
                            Register
                        </a>
                    </li>

                    <li class="nav-item">
                        <a class="btn btn-outline-light" href="{% url 'account_app:my-login' %}">
                            Login
                        </a>
                    </li>
                {% endif %}

                <!-- Cart -->
                <li class="nav-item">
                    <a href="{% url 'cart_app:cart_view' %}" class="btn btn-light position-relative">
                        <i class="fa fa-shopping-cart"></i>

                        <span
                            class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"
                            id="cart-quantity">
                            {% with qty_amount=cart|length %}
                                {{ qty_amount|default:"0" }}
                            {% endwith %}
                        </span>
                    </a>
                </li>

            </ul>
        </div>
    </div>
</nav>
